---
name: useResizeObserver
menu: Hooks
route: /hooks/use-resize-observer
---

import { Playground } from "docz";
import { useState } from "react";
import { useResizeObserver, defaultSizes } from "./useResizeObserver";
import { Text } from "@jobber/components/Text";
import { Card } from "@jobber/components/Card";
import { Content } from "@jobber/components/Content";

# useResizeObserver

`useResizeObserver` is a hook that will allow for responsive styling of
components based on their size, instead of the browser size.

```tsx
import { useResizeObserver } from "@jobber/hooks";
```

<Playground>
  {() => {
    const [
      ref,
      { width, exactWidth, exactHeight, height }
    ] = useResizeObserver();
    const currentWidth = Object.keys(defaultSizes).find(
      key => defaultSizes[key] === width
    );
    const currentHeight = Object.keys(defaultSizes).find(
      key => defaultSizes[key] === height
    );
    return (
      <div ref={ref}>
        <Card title={`Width: ${currentWidth} | Height: ${currentHeight}`}>
          <Content>
            <Text>Width: {width}</Text>
            <Text>Height: {height}</Text>
            <Text>Exact Width: {exactWidth}</Text>
            <Text>Exact Height: {exactHeight}</Text>
          </Content>
        </Card>
      </div>
    );
  }}
</Playground>

## Typing

When using `useResizeObserver` in a component, you will need to pass it a type
to represent the `ref`. In the example below, we pass it the type of
`HTMLDivElement`.

```tsx
const [ref, { width, height }] = useResizeObserver<HTMLDivElement>();
return <div ref={ref}>...</div>;
```

## defaultSizes

`useResizeObserver` exports an object of `defaultSizes`. This can be used for
high level components such as `Page`

```tsx
import { defaultSizes } from "@jobber/hooks";
```

### The defaultSizes object:

export function Sizes() {
  return <code>{JSON.stringify(defaultSizes)}</code>;
}

<Sizes />

## Custom Sizes

`useResizeObserver` can take a custom `width` or `height` object if you do not
want to use `defaultSizes`.

<Playground>
  {() => {
    const customWidths = {
      small: 480,
      medium: 640,
      large: 768
    };
    const [ref, { width, exactWidth }] = useResizeObserver({
      width: customWidths
    });
    const currentWidth = Object.keys(customWidths).find(
      key => customWidths[key] === width
    );
    return (
      <div ref={ref}>
        <Card title={`Width: ${currentWidth}`} accent={getAccent(currentWidth)}>
          <Content>
            <Text>Width: {width}</Text>
            <Text>Exact Width: {exactWidth}</Text>
          </Content>
        </Card>
      </div>
    );
    function getAccent(size) {
      if (width < customWidths.medium) return "red";
      if (width < customWidths.large) return "green";
      return "indigo";
    }
  }}
</Playground>
