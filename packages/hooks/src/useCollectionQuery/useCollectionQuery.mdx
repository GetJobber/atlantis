---
name: useCollectionQuery
menu: Hooks
route: /hooks/use-collection-query
---

import { Playground } from "docz";
import { List } from "@jobber/components/List";
import { Card } from "@jobber/components/Card";
import { Button } from "@jobber/components/Button";
import { Spinner } from "@jobber/components/Spinner";
import { useCollectionQuery } from "@jobber/hooks";

# UseCollectionQuery

`useCollectionQuery` is a generalized hook that that fetches a collection of
data. For use with any lists populated by graphQL collections.

```tsx
import { useCollectionQuery } from "@jobber/hooks";
```

<Playground>
  {() => {
    const styles = {
      spinners: {
        display: "flex",
      },
      loadingIndicator: {
        flex: 1,
        padding: 20,
      },
    };
    const moreItems = () => {
      [
        {
          id: 5,
          icon: "wallet",
          iconColor: "orange",
          content: "Payment for Invoice #39",
          value: "-$300.00",
          caption: "Sep 25, 2019",
        },
        {
          id: 6,
          icon: "paidInvoice",
          content: "Invoice #39",
          value: "$300.00",
          caption: "Sep 24, 2019",
        },
      ];
    };
    return (
      <>
        <div style={styles.spinners}>
          <div style={styles.loadingIndicator}>
            <h4>Initial Loading Indicator</h4>
            <Spinner />
          </div>
          <div style={styles.loadingIndicator}>
            <h4>Refreshing Indicator</h4>
            <Spinner />
          </div>
          <div style={styles.loadingIndicator}>
            <h4>Fetching More Indicator</h4>
            <Spinner />
          </div>
        </div>
        <div>
          <List
            onFetchMore={moreItems}
            items={[
              {
                id: 1,
                icon: "wallet",
                iconColor: "orange",
                content: "Payment for Invoice #39",
                value: "-$300.00",
                caption: "Sep 25, 2019",
                onClick: () => alert("TODO: Implement onClick"),
              },
              {
                id: 2,
                icon: "paidInvoice",
                content: "Invoice #39",
                value: "$300.00",
                caption: "Sep 24, 2019",
                onClick: () => alert("TODO: Implement onClick"),
              },
              {
                id: 3,
                icon: "wallet",
                iconColor: "orange",
                content: "Payment for Invoice #40",
                value: "-$300.00",
                caption: "Sep 25, 2019",
                onClick: () => alert("TODO: Implement onClick"),
              },
              {
                id: 4,
                icon: "wallet",
                iconColor: "orange",
                content: "Payment for Invoice #39",
                value: "-$300.00",
                caption: "Sep 25, 2019",
                onClick: () => alert("TODO: Implement onClick"),
              },
            ]}
          />
        </div>
        <div>
          <Button
            label={"Fetch More"}
            onClick={() => {
              alert("hi");
            }}
          />
          <Button
            label={"Reload"}
            onClick={() => {
              alert("hi");
            }}
          />
        </div>
      </>
    );
  }}
</Playground>
