import { Icon, InputText } from "@jobber/components";
import { Link } from "react-router-dom";
import styles from "./navmenu.module.css";
import "./nav-menu.css";
import { routes } from "../routes";

export const NavMenu = () => {
  return (
    <div
      style={{
        width: "188px",
        minWidth: "188px",
        backgroundColor: "var(--color-surface--background)",
        borderRight: " 1px solid var(--color-surface--background--hover)",
      }}
    >
      <div
        style={{
          width: "100%",
          backgroundColor: "var(--color-surface--background)",
          marginBottom: 20,
          height: 60,
        }}
      >
        <div style={{ padding: 16, paddingTop: 17, paddingLeft: 15 }}>
          <Link to="/">
            <svg>
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M19.693.174c.188 0 .354.083.48.208l3.271 3.251a.603.603 0 0 1 .209.48v11.044c0 4.793-3.897 8.67-8.67 8.67H3.94a.679.679 0 0 1-.48-.21l-3.25-3.25a.604.604 0 0 1-.209-.48V8.844C0 4.05 3.876.173 8.648.173h11.045ZM3.168 20.409V8.843c0-3.043 2.459-5.502 5.501-5.523h8.42c.124 0 .229.105.229.23v11.253a2.673 2.673 0 0 1-2.668 2.667H8.71c-.083 0-.166.063-.208.146l-.396 1.042a.224.224 0 0 0 .209.313h6.668a3.824 3.824 0 0 0 3.835-3.835V2.07a.231.231 0 0 0-.23-.23H8.67a6.99 6.99 0 0 0-7.002 7.003v10.524c0 .062.021.125.063.166l1.042 1.042a.232.232 0 0 0 .396-.166Zm4.814-4.835V9.155c0-.541.437-.979 1-.979H15.4c.125 0 .23.104.23.23v6.418c0 .542-.438 1-.98 1H8.21c-.124-.02-.228-.125-.228-.25Zm7.001 6.564c3.855 0 6.982-3.147 6.982-7.002V4.612a.237.237 0 0 0-.063-.166L20.86 3.404a.232.232 0 0 0-.396.167v11.586a5.496 5.496 0 0 1-5.501 5.502h-8.42a.231.231 0 0 1-.229-.23V9.177A2.673 2.673 0 0 1 8.982 6.51h5.939c.083 0 .167-.063.208-.146l.396-1.042a.224.224 0 0 0-.208-.313H8.669a3.838 3.838 0 0 0-3.834 3.835v13.066c0 .125.104.23.229.23h9.92Zm126.036-7.752a.55.55 0 0 1 .146-.688 5.52 5.52 0 0 0 1.501-1.75c.437-.813.666-1.813.666-2.98 0-.771-.125-1.5-.354-2.21a4.25 4.25 0 0 0-1.167-1.791c-.542-.5-1.271-.917-2.167-1.209-.896-.292-2.001-.438-3.334-.438h-6.857a.552.552 0 0 0-.541.542v16.172c0 .291.25.541.541.541h4.085c.292 0 .542-.25.542-.541v-4.44c0-.291.25-.541.542-.541h1.062c.209 0 .396.125.48.292l2.459 4.939a.508.508 0 0 0 .479.291h4.355a.54.54 0 0 0 .48-.792l-2.918-5.397Zm-5.147-3.313c.834 0 1.396-.146 1.751-.459.354-.312.52-.77.52-1.375s-.166-1.063-.52-1.376c-.355-.312-.938-.458-1.751-.458h-1.292a.552.552 0 0 0-.542.542v2.584c0 .292.25.542.542.542h1.292Zm-12.295 5.293h-6.794a.552.552 0 0 1-.542-.542v-1.292c0-.292.25-.542.542-.542h5.877c.292 0 .542-.25.542-.542v-3.146a.552.552 0 0 0-.542-.542h-5.877a.552.552 0 0 1-.542-.542V8.113c0-.291.25-.541.542-.541h6.377c.292 0 .542-.25.542-.542V3.883a.552.552 0 0 0-.542-.542h-11.753a.552.552 0 0 0-.542.542v16.171c0 .292.25.542.542.542h11.878a.544.544 0 0 0 .542-.5l.312-3.147c.021-.312-.25-.583-.562-.583Zm-19.381-5.398a.536.536 0 0 0 .042.876c1.25.812 1.876 2.042 1.876 3.667 0 .688-.105 1.334-.334 1.938-.208.626-.604 1.167-1.125 1.626-.542.458-1.23.834-2.084 1.104-.855.271-1.917.417-3.168.417H92.11a.552.552 0 0 1-.541-.542V3.884c0-.293.25-.543.541-.543h7.503c1.167 0 2.125.125 2.896.355.771.229 1.396.562 1.855.958.458.417.792.875.979 1.417.188.542.292 1.105.292 1.709 0 .771-.166 1.48-.5 2.105a3.816 3.816 0 0 1-.938 1.083Zm-7.627-3.146c0-.292.25-.542.542-.542h1.605c.666 0 1.146.104 1.375.333.25.23.354.542.354.959 0 .417-.125.75-.354.959-.25.229-.709.333-1.375.333H97.11a.552.552 0 0 1-.542-.542v-1.5Zm2.272 8.835c.812 0 1.375-.145 1.667-.416.291-.271.437-.667.437-1.146 0-.521-.146-.917-.437-1.188-.292-.271-.855-.417-1.667-.417h-1.73a.552.552 0 0 0-.542.542v2.084c0 .291.25.541.542.541h1.73Zm-13.88-4.813a.537.537 0 0 1-.041-.876 3.82 3.82 0 0 0 .938-1.083c.333-.625.5-1.334.5-2.105 0-.604-.104-1.167-.292-1.709-.187-.542-.52-1-.98-1.417-.458-.396-1.083-.73-1.854-.958-.771-.23-1.73-.355-2.897-.355h-7.523a.552.552 0 0 0-.541.542v16.171c0 .292.25.542.541.542h7.294c1.25 0 2.313-.146 3.168-.417.854-.27 1.542-.646 2.084-1.104.52-.459.916-1 1.125-1.626.23-.604.333-1.25.333-1.938.021-1.625-.604-2.855-1.854-3.667ZM77.836 7.28a.552.552 0 0 0-.542.542v1.5c0 .292.25.542.542.542h1.604c.667 0 1.126-.104 1.376-.333.229-.209.354-.542.354-.96 0-.416-.104-.728-.354-.958-.23-.229-.709-.333-1.376-.333h-1.604Zm3.396 8.96c-.291.272-.854.418-1.667.418h-1.73a.552.552 0 0 1-.541-.542v-2.084c0-.292.25-.542.542-.542h1.73c.812 0 1.375.146 1.666.417.292.27.438.667.438 1.188 0 .479-.146.875-.438 1.146ZM62.54 3.53c1.083.396 1.98 1 2.709 1.771.73.771 1.271 1.709 1.646 2.793.375 1.104.563 2.354.563 3.75 0 1.418-.188 2.668-.563 3.814-.375 1.146-.938 2.105-1.667 2.897a7.255 7.255 0 0 1-2.751 1.834c-1.104.437-2.355.646-3.793.646-1.396 0-2.646-.209-3.71-.625a6.97 6.97 0 0 1-2.708-1.772c-.73-.77-1.271-1.73-1.647-2.834-.375-1.104-.562-2.376-.562-3.772s.188-2.646.563-3.772c.375-1.125.916-2.084 1.667-2.875a7.099 7.099 0 0 1 2.75-1.834c1.084-.438 2.355-.646 3.793-.646 1.396 0 2.647.208 3.71.625Zm-3.793 12.795c-2.022 0-3.022-1.459-3.022-4.355 0-2.897 1-4.356 3.022-4.356 2.021 0 3.021 1.46 3.021 4.356s-1 4.355-3.021 4.355ZM40.407 3.341h4.397c.292 0 .542.23.521.542v10.003c0 2.355-.646 4.126-1.938 5.335-1.292 1.188-3.084 1.792-5.355 1.792-2.397 0-4.21-.604-5.44-1.855-1.104-1.125-1.75-2.73-1.896-4.793a.548.548 0 0 1 .542-.583h4.397c.271 0 .5.208.542.479.062.584.23 1.042.459 1.396.291.438.77.667 1.416.667.646 0 1.105-.187 1.397-.583.27-.396.416-.938.416-1.605V3.883c0-.292.25-.542.542-.542Z"
              ></path>
            </svg>
          </Link>
        </div>
        &nbsp;
      </div>
      <div style={{ padding: "var(--space-base)" }}>
        <InputText name="hi" placeholder="Search" />
      </div>
      <ul style={{ listStyleType: "none", padding: 0 }}>
        <nav-menu>
          {routes?.map((route, index) => {
            return route.children ? (
              route.children.map((subroute, subindex) => {
                if (subroute.inNav === false) return;

                return (
                  <li className={styles.subMenuLink} key={subindex}>
                    <div style={{ marginRight: 12 }}>
                      <Icon name={route.icon} />
                    </div>
                    <Link
                      className={styles.subRoute}
                      to={subroute.path || "/"}
                      key={subindex}
                    >
                      {subroute.handle}
                    </Link>
                  </li>
                );
              })
            ) : route.inNav === false ? null : (
              <li className={styles.menuLink} key={index}>
                <Link key={index} to={route.path ?? "/"}>
                  {route.handle}
                </Link>
              </li>
            );
          })}
        </nav-menu>
      </ul>
    </div>
  );
};
