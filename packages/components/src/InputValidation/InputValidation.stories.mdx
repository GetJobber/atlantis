import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { useState } from "react";
import { Banner } from "@jobber/components/Banner";
import { Text } from "@jobber/components/Text";
import { InputText } from "@jobber/components/InputText";
import { InputValidation } from "@jobber/components/InputValidation";

<Meta title="Components/InputValidation" component={InputValidation} />

# Input Validation

<Banner type="warning">
  90% of validation for inputs will be handled out-of-the-box by the{" "}
  <a href="/components/input-text/#validation-message">
    input component's validation
  </a>
  . Check that you cannot use the built-in validation before using this component.
</Banner>

`InputValidation` allows you to show the validation messages in cases where an
[input's built-in validation](/components/input-text/#validation-message) is not
available, such as in `inline` usage.

For more information about `validations` using any of the `Input` components,
see the [InputText](/components/input-text/#validation-message) documentation.

```ts
import { InputValidation } from "@jobber/components/InputValidation";
```

<Canvas>
  <Story name="InputValidation">
    {() => {
      const [validationMessages, setValidationMessages] = useState(undefined);
      return (
        <div>
          <Text>
            My name is
            <InputText
              validations={{
                required: {
                  value: true,
                  message: "Please tell me your name",
                },
                pattern: {
                  value: /Jeff/,
                  message: "Have you considered a better name, like Jeff?",
                },
              }}
              onValidation={setValidationMessages}
              name="myName"
              size="small"
              inline={true}
              maxLength={4}
            />
          </Text>
          {validationMessages && (
            <InputValidation message={validationMessages} />
          )}
        </div>
      );
    }}
  </Story>
</Canvas>

## Props

<ArgsTable of={InputValidation} story="InputValidation" />
