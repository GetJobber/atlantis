import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { FormatFile } from ".";
import { Content } from "../Content";

<Meta title="Components/FormatFile" component={FormatFile} />

# Format File

Pass this a logical description of a file (an object) and it will represent a
file in a number of lifecycle states.

A progress indicator can be used to display the upload status and a thumbnail or
icon will be displayed depending on what is provided.

A delete callback function can be passed in and will be called when the user
actions the delete button.

```ts
import { FormatFile } from "@jobber/components/FormatFile";
```

<Canvas>
  <Story
    name="FormatFile"
    args={{
      file: {
        key: "abc",
        name: "myballisbigandroundIamrollingitontheground.png",
        type: "image/png",
        size: 213402324,
        progress: 1,
        src: () => Promise.resolve("https://source.unsplash.com/250x250"),
      },
      onDelete: () => alert("Deleted"),
    }}
  >
    {args => <FormatFile {...args} />}
  </Story>
</Canvas>

## Props

<ArgsTable of={FormatFile} story="FormatFile" />

---

## Design & usage guidelines

When contributing to, or consuming the `InputFile` component, consider the
following:

- FormatFile components should take up the full width of the parent container (1
  or 2 files per row).

### Display

Format files can be displayed as either an expanded or compact format file.

### Expanded

Used to display a file alongside its details.

<Canvas>
  <Content>
    <FormatFile
      file={{
        key: "abc",
        name: "myballisbigandroundIamrollingitontheground.png",
        type: "image/png",
        size: 213402324,
        progress: 0.5,
        src: () => Promise.resolve("https://source.unsplash.com/250x250"),
      }}
      display="expanded"
      onDelete={() => alert("Deleted")}
    />
    <FormatFile
      file={{
        key: "abc",
        name: "image_of_something.png",
        type: "image/png",
        size: 213402324,
        progress: 1,
        src: () => Promise.resolve("https://source.unsplash.com/250x250"),
      }}
      display="expanded"
      onDelete={() => alert("Deleted")}
    />
  </Content>
</Canvas>

### Compact

Used to display a cropped smaller version of a file or image.

<Canvas>
  <Content>
    <FormatFile
      file={{
        key: "abc",
        name: "myballisbigandroundIamrollingitontheground.png",
        type: "image/png",
        size: 213402324,
        progress: 0.5,
        src: () => Promise.resolve("https://source.unsplash.com/250x250"),
      }}
      displaySize="large"
      display="compact"
      onDelete={() => alert("Deleted")}
    />
    <FormatFile
      file={{
        key: "abc",
        name: "myballisbigandroundIamrollingitontheground.png",
        type: "image/png",
        size: 213402324,
        progress: 1,
        src: () => Promise.resolve("https://source.unsplash.com/250x250"),
      }}
      displaySize="large"
      display="compact"
      onDelete={() => alert("Deleted")}
    />
  </Content>
</Canvas>

## Related components

- For a thumbnail representation of a user, use [Avatar](avatar).
