import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { useRef } from "react";
import { Button } from "@jobber/components/Button";
import { Toast, showToast } from "@jobber/components/Toast";

<Meta title="Components/Toast" component={Toast} />

# Toast

Toasts are short, temporary messages used to inform users that a process was
performed. They provide visual feedback on the outcome of an action, and require
minimal user interaction.

Toast, unlike common React components is not a component that will be added to
your view. Instead, Toast is used by importing and calling the `showToast()`
function.

```ts
import { showToast } from "@jobber/components/Toast";
```

<Canvas>
  <Story
    name="Toast"
    args={{
      message: "Toast has been toasted",
    }}
  >
    {args => <Button label="Show toast" onClick={() => showToast(args)} />}
  </Story>
</Canvas>

<ArgsTable of={showToast} />

## Design & usage guidelines

When contributing to or consuming the Toast component, consider the following:

- Keep text labels as short as possible. They should be clear and concise, and
  should not take up more than one line.
- Use the pattern: noun + verb.
  - Examples: `Job saved`, `Quote approved`, `Client archived`.
- No need to use "Successfully", should be implicit in the toast.
- Don't use `Dismiss` or `Cancel` as an action label.
  - Examples of action labels: `Undo`, `View`, `Refresh`.

## Related components

For more persistent feedback (such as displaying errors), communicating a
background process that is ongoing, or for feedback that has a longer reading
length or CTA, use [Banner.](../?path=/docs/components-banner--banner)

### Errors

> Do not use Toast for errors. This is currently an available variation, but
> should be considered deprecated and not propagated.

Use [Banner](../?path=/docs/components-banner--banner) and, where necessary,
targeted error messaging (such as
[InputValidation](../?path=/docs/components-inputvalidation--input-validation))
so that the user can appropriately assess and recover from the error.

## Variations

The primary use case for Toast is success messages.

In some cases, an informational Toast may be used to inform the user of some
background system activity.

<Canvas>
  <Button
    label="Info Toast"
    variation="learning"
    onClick={() =>
      showToast({
        message: "Toasting is underway",
        variation: "info",
      })
    }
  />
  <Button
    label="Success Toast"
    onClick={() =>
      showToast({
        message: "Toast is ready",
        variation: "success",
      })
    }
  />
</Canvas>
