import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { InputNumber } from "@jobber/components/InputNumber";
import { Text } from "@jobber/components/Text";
import { useState } from "react";
import { Button } from "@jobber/components/Button";
import { Content } from "@jobber/components/Content";

<Meta title="Components/InputNumber" component={InputNumber} />

# InputNumber

Input number is used in forms that accept numbers as an answer.

```ts
import { InputNumber } from "@jobber/components/InputNumber";
```

<Canvas>
  <Story name="InputNumber">
    {() => {
      return (
        <InputNumber defaultValue={7} max={11} min={0} placeholder="Number" />
      );
    }}
  </Story>
</Canvas>

<ArgsTable of={InputNumber} story="InputNumber" />

## Design & usage guidelines

This is best suited for input data that benefits from being modified in
increments, such as quantity, price, or days (ie 2 days -> 3 days).

While some types of data may technically be numbers, they can be ill-suited for
using a number input. For example, phone numbers and credit card numbers provide
no value to the user by offering an incrementer.

---

## Controlled

<Canvas>
  <Story name="Controlled">
    {() => {
      const [value, setValue] = useState(30);
      return (
        <InputNumber
          value={value}
          max={32}
          min={0}
          onChange={setValue}
          placeholder="Age"
        />
      );
    }}
  </Story>
</Canvas>

## States

### Disabled

<Canvas>
  <Story name="Disabled">
    {() => {
      return (
        <InputNumber
          placeholder="SIN Number"
          value={1234}
          disabled={true}
          name="sin"
        />
      );
    }}
  </Story>
</Canvas>

### Read-only

<Canvas>
  <Story name="Read-only">
    {() => {
      return (
        <InputNumber
          placeholder="Your pin number"
          value={12345}
          readonly={true}
          name="pinNumber"
        />
      );
    }}
  </Story>
</Canvas>

### Invalid

For more information about available `validations`, see the
[InputText](/components/input-text/#validation-message) docs.

<Canvas>
  <Story name="Invalid">
    {() => {
      return (
        <InputNumber
          placeholder="Give a whole number"
          defaultValue={1.1}
          invalid={true}
          name="wholeNumber"
        />
      );
    }}
  </Story>
</Canvas>

## Sizes

### Small

<Canvas>
  <Story name="Small">
    {() => {
      return (
        <InputNumber name="smallField" size="small" placeholder="Duration" />
      );
    }}
  </Story>
</Canvas>

### Large

<Canvas>
  <Story name="Large">
    {() => {
      return (
        <InputNumber
          name="largeField"
          size="large"
          placeholder="Duration but bigger"
        />
      );
    }}
  </Story>
</Canvas>

## Inline

<Canvas>
  <Story name="Inline">
    {() => {
      return (
        <Text>
          Follow-up after
          <InputNumber
            name="durationInDays"
            defaultValue={2}
            size="small"
            inline={true}
            maxLength={2}
            align="center"
          />
          days
        </Text>
      );
    }}
  </Story>
</Canvas>

## Focus & blur

<Canvas>
  <Story name="Focus & Blur">
    {() => {
      const inputNumberRef = React.createRef();
      const focusInput = () => {
        inputNumberRef.current.focus();
      };
      const blurInput = () => {
        inputNumberRef.current.blur();
      };
      return (
        <Content>
          <InputNumber value={5} ref={inputNumberRef} />
          <Button label="Focus input" onClick={focusInput} />
          <br />
          <Button label="Blur input" onClick={blurInput} />
        </Content>
      );
    }}
  </Story>
</Canvas>

## Using onValidation

If you need to capture the error message and render it outside of the component.
Read the [InputValidation](/components/input-validation) documentation.

For more details about `validation` using `Input` components, see the
[InputText](/components/input-text/#validation-message) documentation.
