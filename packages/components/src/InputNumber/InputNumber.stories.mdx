import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { useState } from "react";
import { InputNumber } from "@jobber/components/InputNumber";
import { Text } from "@jobber/components/Text";
import { Button } from "@jobber/components/Button";
import { Content } from "@jobber/components/Content";

<Meta title="Components/Forms and Inputs/InputNumber" component={InputNumber} />

# InputNumber

InputNumber is used in forms that accept numbers as an answer.

```ts
import { InputNumber } from "@jobber/components/InputNumber";
```

<Canvas>
  <Story
    name="InputNumber"
    args={{
      value: 7,
      max: 11,
      min: 0,
      placeholder: "Number",
    }}
  >
    {args => {
      const [value, setValue] = useState(args.value);
      return <InputNumber {...args} value={value} onChange={setValue} />;
    }}
  </Story>
</Canvas>

<ArgsTable of={InputNumber} story="InputNumber" />

## Design & usage guidelines

This is best suited for input data that benefits from being modified in
increments, such as quantity, price, or days (ie 2 days -> 3 days).

While some types of data may technically be numbers, they can be ill-suited for
using a number input. For example, phone numbers and credit card numbers provide
no value to the user by offering an incrementer.

---

## Controlled

<Canvas>
  {() => {
    const [value, setValue] = useState(30);
    return (
      <InputNumber
        value={value}
        max={32}
        min={0}
        onChange={setValue}
        placeholder="Age"
      />
    );
  }}
</Canvas>

## States

### Disabled

<Canvas>
  <InputNumber
    placeholder="SIN Number"
    value={1234}
    disabled={true}
    name="sin"
  />
</Canvas>

### Read-only

<Canvas>
  <InputNumber
    placeholder="Your pin number"
    value={12345}
    readonly={true}
    name="pinNumber"
  />
</Canvas>

### Invalid

For more information about available `validations`, see the
[InputText](../?path=/docs/components-inputtext--input-text/#validation-message)
docs.

<Canvas>
  <InputNumber
    placeholder="Give a whole number"
    defaultValue={1.1}
    invalid={true}
    name="wholeNumber"
  />
</Canvas>

## Sizes

### Small

<Canvas>
  <InputNumber name="smallField" size="small" placeholder="Duration" />
  <InputNumber name="smallField" size="small" placeholder="Duration" />
</Canvas>

### Large

<Canvas>
  <InputNumber
    name="largeField"
    size="large"
    placeholder="Duration but bigger"
  />
</Canvas>

## Inline

<Canvas>
  <Text>
    Follow-up after
    <InputNumber
      name="durationInDays"
      defaultValue={2}
      size="small"
      inline={true}
      maxLength={2}
      align="center"
    />
    days
  </Text>
</Canvas>

## Focus & blur

<Canvas>
  {() => {
    const inputNumberRef = React.createRef();
    const focusInput = () => {
      inputNumberRef.current.focus();
    };
    const blurInput = () => {
      inputNumberRef.current.blur();
    };
    return (
      <Content>
        <InputNumber value={5} ref={inputNumberRef} />
        <Button label="Focus input" onClick={focusInput} />
        <br />
        <Button label="Blur input" onClick={blurInput} />
      </Content>
    );
  }}
</Canvas>

## Using onValidation

If you need to capture the error message and render it outside of the component.
Read the
[InputValidation](../?path=/docs/components-inputvalidation--input-validation)
documentation.

For more details about `validation` using `Input` components, see the
[InputText](../?path=/docs/components-inputtext--input-text/#validation-message)
documentation.
