---
name: DataTable
menu: Patterns
route: /components/data-table
showDirectoryLink: true
---

import { Playground, Props } from "docz";
import { DataTable } from ".";
import { DataDump } from "../DataDump";
import { CustomPagination } from "./CustomPagination";
import { useState, useCallback } from "react";

# Data Table

```ts
import { DataTable } from "@jobber/components/DataTable";
```

## Basic Table

<Playground>
  <DataTable
    data={[
      {
        name: "Jon Snow",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "Yes",
      },
      {
        name: "Robert",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "No",
      },
      {
        name: "Rickon",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "No",
      },
      {
        name: "Robert",
        house: "Baratheon",
        region: "Stormlands",
        sigil: "Black Stag",
        isAlive: "No",
      },
      {
        name: "Cercei",
        house: "Lannister",
        region: "Westerlands",
        sigil: "Golden Lion",
        isAlive: "Yes",
      },
    ]}
    columns={[
      {
        accessorKey: "name",
      },
      {
        accessorKey: "house",
      },
      {
        accessorKey: "region",
      },
      {
        accessorKey: "sigil",
      },
      {
        accessorKey: "isAlive",
      },
    ]}
  />
</Playground>

## Client-Side Pagination, Sorting and Fixed Height with Sticky Header

<Playground>
  <DataTable
    height={400}
    stickyHeader
    data={[
      {
        name: "Eddard",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "No",
      },
      {
        name: "Catelyn",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "No",
      },
      {
        name: "Jon Snow",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "Yes",
      },
      {
        name: "Robert",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "No",
      },
      {
        name: "Rickon",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "No",
      },
      {
        name: "Robert",
        house: "Baratheon",
        region: "Stormlands",
        sigil: "Black Stag",
        isAlive: "No",
      },
      {
        name: "Cercei",
        house: "Lannister",
        region: "Westerlands",
        sigil: "Golden Lion",
        isAlive: "Yes",
      },
      {
        name: "Sansa",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "Yes",
      },
      {
        name: "Arya",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "Yes",
      },
      {
        name: "Bran",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "Yes",
      },
      {
        name: "Joffrey",
        house: "Baratheon",
        region: "Stormlands",
        sigil: "Black Stag",
        isAlive: "No",
      },
      {
        name: "Myrcella",
        house: "Baratheon",
        region: "Stormlands",
        sigil: "Black Stag",
        isAlive: "Yes",
      },
      {
        name: "Tommen",
        house: "Baratheon",
        region: "Stormlands",
        sigil: "Black Stag",
        isAlive: "Yes",
      },
    ]}
    pagination={{ manualPagination: false, itemsPerPage: [10, 20, 30] }}
    sorting={{ manualSorting: false }}
    columns={[
      {
        accessorKey: "name",
        cell: info => info.getValue(),
        header: "Name",
      },
      {
        accessorKey: "house",
        cell: info => info.getValue(),
        header: "House",
      },
      {
        accessorKey: "region",
        cell: info => info.getValue(),
        header: "Region",
      },
      {
        accessorKey: "sigil",
        cell: info => info.getValue(),
        header: "Sigil",
      },
      {
        accessorKey: "isAlive",
        cell: info => info.getValue(),
        header: "Alive",
      },
    ]}
  />
</Playground>

<!--
  INTERFACE: This is for the proposal stage of the component

  Provide an example of what the component looks like in code. How would you use
  it from another React component? This should consist primarily of code blocks.
  This section can be deleted once the component is built, when the Playground
  will demonstrate this at a higher fidelity.
-->

## Props

<Props of={DataTable} />

<!--
  It is not necessary to provide an example of each prop. Use usage examples to
  highlight key features of a component or particular considerations.

  See `Button.mdx` for a good example of this.
-->

# Horizontal Scrolling, Pinning First Column, Custom Cell, Custom Header

<Playground>
  <div style={{ width: 390 }}>
    <DataTable
      data={[
        {
          name: "Jon Snow",
          house: "Stark",
          region: "North",
          sigil: "Direwolf",
          isAlive: "Yes",
        },
        {
          name: "Robert",
          house: "Stark",
          region: "North",
          sigil: "Direwolf",
          isAlive: "No",
        },
        {
          name: "Rickon",
          house: "Stark",
          region: "North",
          sigil: "Direwolf",
          isAlive: "No",
        },
        {
          name: "Robert",
          house: "Baratheon",
          region: "Stormlands",
          sigil: "Black Stag",
          isAlive: "No",
        },
        {
          name: "Cercei",
          house: "Lannister",
          region: "Westerlands",
          sigil: "Golden Lion",
          isAlive: "Yes",
        },
      ]}
      pinFirstColumn
      columns={[
        {
          accessorKey: "name",
          cell: info => <strong>{info.getValue()}</strong>,
          header: "Name",
        },
        {
          accessorKey: "house",
          header: "House",
        },
        {
          accessorKey: "region",
          header: "Region",
        },
        {
          accessorKey: "sigil",
          header: () => "Sigil",
        },
        {
          accessorKey: "isAlive",
          cell: info => (info.getValue() == "Yes" ? "✅" : "❌"),
          header: "Alive",
        },
      ]}
    />
  </div>
</Playground>

## Manual Sorting

<Playground>
  {() => {
    const [sortingState, setSortingState] = useState([]);
    const handleSortingStateChange = useCallback(state => {
      setSortingState(state);
      alert("Yo, new state coming, update the data!");
    }, []);
    const data = [
      {
        name: "Eddard",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "No",
      },
      {
        name: "Catelyn",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "No",
      },
      {
        name: "Jon Snow",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "Yes",
      },
      {
        name: "Robert",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "No",
      },
      {
        name: "Rickon",
        house: "Stark",
        region: "North",
        sigil: "Direwolf",
        isAlive: "No",
      },
      {
        name: "Robert",
        house: "Baratheon",
        region: "Stormlands",
        sigil: "Black Stag",
        isAlive: "No",
      },
      {
        name: "Cercei",
        house: "Lannister",
        region: "Westerlands",
        sigil: "Golden Lion",
        isAlive: "Yes",
      },
    ];
    const columns = [
      {
        accessorKey: "name",
        cell: info => <span>{info.getValue()}</span>,
      },
      {
        accessorKey: "house",
        cell: info => info.getValue(),
      },
      {
        accessorKey: "region",
        cell: info => info.getValue(),
      },
      {
        accessorKey: "sigil",
        cell: info => info.getValue(),
      },
      {
        accessorKey: "isAlive",
        cell: info => info.getValue(),
      },
    ];
    return (
      <div>
        <DataDump label="Sorting State" data={sortingState} defaultOpen />
        <DataTable
          data={data}
          columns={columns}
          sorting={{
            manualSorting: true,
            state: sortingState,
            onSortingChange: handleSortingStateChange,
          }}
        />
      </div>
    );
  }}
</Playground>

## Usage Guidelines

The `<DataTable>` will... _Add a brief description of the component_

<!--
  What is the design purpose of this component? How do its responsibilities
  relate to other components? What should this component not be used for? What
  are some related components in Atlantis? Try to describe this component not
  in terms of what it looks like or what elements make it up, but what function
  it performs or how it enables a user to perform tasks (e.g. “Buttons allow users
  to initiate, complete, and reverse actions.” vs “Buttons are rectangular elements
  that have a green background and white text”).
-->

<Playground>
  <CustomPagination />
</Playground>

## Content Guidelines

<!--
  What type of content does this component present (documents, text, images, other components)?
  What is the recommended, or expected, amount of content? What is the components’ behaviour when
  the provided content diverges from what is expected (image aspect ratio, amount of text, video
  vs audio, filesize)? Are there any important references to the [Product Vocabulary](https://atlantis.getjobber.com/guides/product-vocabulary)
  that should be made regarding this component? What happens when content is unavailable or unreliable
  (poor connection, empty states, flaky GPS data?)
-->

## Accessibility

<!--
  Describe the accessibility concerns for the component. How does it handle touch vs cursor vs
  keyboard events? Should it capture input? What should a screen reader see when it's focuse?
-->

## Responsiveness

<!--
  How should the component behave on an iPhone 8? An iPad? A 1920x1080 monitor? How does the
  component appear when the component itself is less than 375px wide? Less than 640px wide?
  Less than 1200px wide? Greater than 1200px? Does it change when the device DPI is higher
  or lower?
-->

## Mockup

<iframe
  style="border: 1px solid rgba(0, 0, 0, 0.1);"
  width="800"
  height="450"
  src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2F3BXCXXD9glMtj8RAHjXiQC%2FDesign-System-Contribution-TEMPLATE%3Fnode-id%3D332%253A5526"
  allowfullscreen
></iframe>

<!--
  Insert a Figma mockup from the [Design System Contribution template](https://www.figma.com/file/3BXCXXD9glMtj8RAHjXiQC/Design-System-Contribution-TEMPLATE?node-id=26%3A2)
  that conveys the visual design of the component, with variants and state accounted for.
  Consider progressive enhancement; might this rely on newer browser features that aren’t
  widely supported yet?
-->

## Notes

<!--
  What decisions worth remembering have gone into this component? Did we consider any potentially valuable
  functionality that we’re not implementing right now for scope purposes? Are there any design decisions
  that might need explaining beyond the usage guidelines? This will help consumers understand this component
  more fully.
-->
