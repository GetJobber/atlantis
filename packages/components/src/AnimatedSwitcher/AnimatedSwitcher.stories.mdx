import { useState } from "react";
import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { Button } from "@jobber/components/Button";
import { Text } from "@jobber/components/Text";
import { AnimatedSwitcher } from ".";

<Meta
  title="Components/Status and Feedback/AnimatedSwitcher"
  component={AnimatedSwitcher}
/>

# AnimatedSwitcher

Smoothly switch between two components that aim to add delight when the user
interacts with them.

```ts
import { AnimatedSwitcher } from "@jobber/components/AnimatedSwitcher";
```

<Canvas>
  <Story name="AnimatedSwitcher">
    {args => {
      const [switched, setSwitched] = useState(args.switched || false);
      return (
        <AnimatedSwitcher
          {...args}
          switched={switched}
          initialChild={
            <Button label="Mark complete" onClick={() => setSwitched(true)} />
          }
          switchTo={
            <Button
              icon="checkmark"
              label="Complete"
              type="secondary"
              onClick={() => setSwitched(false)}
            />
          }
        />
      );
    }}
  </Story>
</Canvas>

## Props

<ArgsTable of={AnimatedSwitcher} story="AnimatedSwitcher" />

## AnimatedSwitcher.Icon

Animating between 2 icons is done in a more opinionated way where it would spin
from 1 icon to another. The animation reverses when you want to go back to the
initial icon.

<Canvas>
  {() => {
    const [switched, setSwitched] = useState(false);
    return (
      <div>
        <div
          style={{
            display: "flex",
            justifyContent: "space-around",
            gap: 24,
            marginBottom: 16,
          }}
        >
          <AnimatedSwitcher.Icon
            switched={switched}
            initialIcon="add"
            switchToIcon="checkmark"
          />
          <AnimatedSwitcher.Icon
            switched={switched}
            initialIcon="menu"
            switchToIcon="backArrow"
          />
          <AnimatedSwitcher.Icon
            switched={switched}
            initialIcon="event"
            switchToIcon="remove"
          />
          <AnimatedSwitcher.Icon
            switched={switched}
            initialIcon="eye"
            switchToIcon="eyeCrossed"
          />
        </div>
        <Text align="center">
          <Button
            label="Switch icons"
            type="tertiary"
            size="small"
            onClick={() => setSwitched(!switched)}
          />
        </Text>
      </div>
    );
  }}
</Canvas>

<ArgsTable of={AnimatedSwitcher.Icon} />
