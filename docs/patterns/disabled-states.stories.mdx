import { Meta } from "@storybook/addon-docs";
import { Figma } from "@storybook/addon-designs/blocks";
import { InlineLabel } from "@jobber/components/InlineLabel";

<Meta title="Patterns/Disabled states" />

| **Platform**                                                     | **Status**                                     |
| :--------------------------------------------------------------- | :--------------------------------------------- |
| <InlineLabel>Web</InlineLabel> <InlineLabel>Mobile</InlineLabel> | <InlineLabel color="green">Ready</InlineLabel> |

This pattern involves how we disable, show, or hide actions based on different
criteria. It becomes a balance in explaining the interface and not overwhelming
users with choice. Below are a few of the common examples and accompanying
guidelines for handling those situations.

<Figma url="https://www.figma.com/design/HXWXusJPZLmaJNGlKEpiyhXW/Product%2FBase?m=auto&node-id=21011-642&t=SHOjoSApnGE6QQeB-1" />

## Goal

Avoid placing the user in a frustrating state where actions are unavailable and
they do not know how to enable.

## Use when…

An action is unavailable to the user based on a prerequisite condition (i.e. the
user cannot cannot submit a form unless data has been entered)

## Principle

Visibility of System Status

Recognition over recall

## Solution

### Avoid disabled states

Your first goal should be to avoid disabled states entirely. If there is a
condition required for the user to take an action, present the opportunity to
set the required condition before the user is blocked by a disabled state. An
example of this is on our “work objects” which all require a client to be saved.
If the user makes it to the bottom of the form and has not added a client, the
primary CTA is “Select Client“.

<Figma url="https://www.figma.com/design/HXWXusJPZLmaJNGlKEpiyhXW/Product%2FBase?m=auto&node-id=21013-643&t=SHOjoSApnGE6QQeB-1" />

Web On web, a tooltip may help explain to the user why they can’t select an
element. Make sure the Tooltip can be triggered both by focus and hover.

Mobile In a mobile context, Supporting Text maybe more helpful for users as it
does not require an additional interaction to uncover. If an input element (such
as a Select or InputText) has “assistive text” built in, do not use the
assistive text in a disabled state, but provide the Supporting Text as a
separate element.

#### Permissions-related unavailability

When functionality or a feature isn't available because of a user's permissions,
hide the action altogether.

#### Account-tier-related unavailability

If functionality is unavailable because of a user’s subscription tier, but we
want to introduce the functionality to encourage them to upgrade, use an inline
element near where the unavailable UI would exist, or a
`Button variation="learning"` in place of the UI to nudge the user to learn
more.

### Why

Avoiding disabled states is an accessibility best practice and also generally
helpful from a usability perspective. The more time a user spends trying to
understand why they can’t take an action, the less time they spend getting sh\*t
done.

Disabling elements is often the easiest path for a development team to manage
conditional states of an interface to design and build, but results in a
less-friendly interface for the user.

### Implementation

While you should avoid disabled states, many Atlantis components do offer the
ability to create that state if required.

Typically this is done with a `disabled` boolean property.
