import { Meta, Story, Canvas } from "@storybook/addon-docs";
import { DataTable } from "@jobber/components/DataTable";

<Meta title="Components/Lists and Tables/DataTable/Atoms" />

# DataTable Atomic Components

The DataTable component also provides atomic table components that can be used
independently for custom table implementations.

## Basic Table Structure

<Canvas>
  <Story name="Basic Table">
    <DataTable.Table>
      <DataTable.Header>
        <tr>
          <DataTable.HeaderCell>Name</DataTable.HeaderCell>
          <DataTable.HeaderCell>Email</DataTable.HeaderCell>
          <DataTable.HeaderCell>Role</DataTable.HeaderCell>
        </tr>
      </DataTable.Header>
      <DataTable.TableBody>
        <DataTable.Row>
          <DataTable.Cell>John Doe</DataTable.Cell>
          <DataTable.Cell>john@example.com</DataTable.Cell>
          <DataTable.Cell>Admin</DataTable.Cell>
        </DataTable.Row>
        <DataTable.Row>
          <DataTable.Cell>Jane Smith</DataTable.Cell>
          <DataTable.Cell>jane@example.com</DataTable.Cell>
          <DataTable.Cell>User</DataTable.Cell>
        </DataTable.Row>
      </DataTable.TableBody>
    </DataTable.Table>
  </Story>
</Canvas>

## Sortable Headers

<Canvas>
  <Story name="Sortable Headers">
    <DataTable.Table>
      <DataTable.Header>
        <tr>
          <DataTable.HeaderCell sortable sorted="asc" onSort={() => {}}>
            Name
          </DataTable.HeaderCell>
          <DataTable.HeaderCell>Email</DataTable.HeaderCell>
          <DataTable.HeaderCell>Role</DataTable.HeaderCell>
        </tr>
      </DataTable.Header>
      <DataTable.TableBody>
        <DataTable.Row>
          <DataTable.Cell>John Doe</DataTable.Cell>
          <DataTable.Cell>john@example.com</DataTable.Cell>
          <DataTable.Cell>Admin</DataTable.Cell>
        </DataTable.Row>
        <DataTable.Row>
          <DataTable.Cell>Jane Smith</DataTable.Cell>
          <DataTable.Cell>jane@example.com</DataTable.Cell>
          <DataTable.Cell>User</DataTable.Cell>
        </DataTable.Row>
      </DataTable.TableBody>
    </DataTable.Table>
  </Story>
</Canvas>

## Sticky Header

<Canvas>
  <Story name="Sticky Header">
    <div style={{ height: "200px", overflow: "auto" }}>
      <DataTable.Table>
        <DataTable.Header stickyHeader>
          <tr>
            <DataTable.HeaderCell>Name</DataTable.HeaderCell>
            <DataTable.HeaderCell>Email</DataTable.HeaderCell>
            <DataTable.HeaderCell>Role</DataTable.HeaderCell>
          </tr>
        </DataTable.Header>
        <DataTable.TableBody>
          <DataTable.Row>
            <DataTable.Cell>User 1</DataTable.Cell>
            <DataTable.Cell>user1@example.com</DataTable.Cell>
            <DataTable.Cell>Role 1</DataTable.Cell>
          </DataTable.Row>
          <DataTable.Row>
            <DataTable.Cell>User 2</DataTable.Cell>
            <DataTable.Cell>user2@example.com</DataTable.Cell>
            <DataTable.Cell>Role 2</DataTable.Cell>
          </DataTable.Row>
          <DataTable.Row>
            <DataTable.Cell>User 3</DataTable.Cell>
            <DataTable.Cell>user3@example.com</DataTable.Cell>
            <DataTable.Cell>Role 3</DataTable.Cell>
          </DataTable.Row>
        </DataTable.TableBody>
      </DataTable.Table>
    </div>
  </Story>
</Canvas>

## Loading State

<Canvas>
  <Story name="Loading State">
    <DataTable.Table>
      <DataTable.Header>
        <tr>
          <DataTable.HeaderCell>Name</DataTable.HeaderCell>
          <DataTable.HeaderCell>Email</DataTable.HeaderCell>
          <DataTable.HeaderCell>Role</DataTable.HeaderCell>
        </tr>
      </DataTable.Header>
      <DataTable.TableBody />
    </DataTable.Table>
  </Story>
</Canvas>

## Empty State

<Canvas>
  <Story name="Empty State">
    <DataTable.Table>
      <DataTable.Header>
        <tr>
          <DataTable.HeaderCell>Name</DataTable.HeaderCell>
          <DataTable.HeaderCell>Email</DataTable.HeaderCell>
          <DataTable.HeaderCell>Role</DataTable.HeaderCell>
        </tr>
      </DataTable.Header>
      <DataTable.TableBody />
    </DataTable.Table>
  </Story>
</Canvas>

## Usage Guidelines

### When to use atomic components

Use the atomic components when you need:

- **Custom table behavior** that goes beyond the standard DataTable features
- **Simple tables** without sorting, pagination, or complex interactions
- **Custom styling** that requires direct control over table structure
- **Integration with other libraries** that need direct access to table elements

### When to use the full DataTable

Use the full DataTable component when you need:

- **Built-in sorting, pagination, and filtering**
- **Integration with tanstack/react-table**
- **Standard table patterns** with minimal customization
- **Rapid development** with pre-built functionality

### Best practices

1. **Consistent styling**: Use the atomic components together to maintain
   consistent styling
2. **Accessibility**: Ensure proper ARIA attributes when building custom tables
3. **Responsive design**: Consider mobile layouts when building custom tables
4. **Performance**: For large datasets, consider virtualization or pagination
5. **Type safety**: Use TypeScript interfaces for your data structures
