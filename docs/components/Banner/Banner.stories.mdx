import { Canvas, Meta } from "@storybook/addon-docs";
import { Banner } from "@jobber/components/Banner";
import { Icon } from "@jobber/components/Icon";

# Banner

<Meta title="Components/Status and Feedback/Banner" />

Banners provide information about important changes, persistent conditions, and
system errors. They're positioned at the top of the screen or near the content
they reference and are persistent until dismissed or the issue is resolved.

## Design & usage guidelines

### Layout and alignment

Banner should align to the left and right of the content it is related to.

When using a Banner within a modal or a page layout, this means Banner should
align with the text, inputs or other UI elements beneath it. For best results,
use [Content](/components/Content) to ensure consistent vertical spacing between
Banner and adjacent elements.

#### "Global" Banner (web)

If the Banner is being used as a system-wide message or some other context which
is outside of the main application layout, it should take up the full available
width.

#### "Global" Banner (mobile)

If the Banner is used to display a system-wide message, or a message that
applies to a broader context than just a specific view/function, it should be
positioned directly beneath the Status Bar and above the Navigation Header, and
be flush with the edges of the screen.

### Types of Banner

Banners come in four types; `success`, `notice`, `warning` and `error`. Each
type has guidelines for usage:

### Success message (Web only)

<Canvas>
  <Banner type="success">Account details updated</Banner>
</Canvas>

Success banners are appropriate when:

<ul>
  <li>success feedback had a call to action</li>
  <li>success feedback is delayed</li>
</ul>

Otherwise, use [Toast](/components/Toast) as the default for success messages.

#### Success messages (mobile)

On mobile, use [Toast](/components/Toast) for a success message.

### Notice message

<Canvas>
  <Banner type="notice">Your visits are being scheduled</Banner>
</Canvas>

Use notice banners to provide information about:

<ul>
  <li>new functionality</li>
  <li>background operations</li>
  <li>general non-blocking advice</li>
  <li>maintenance or outage notices</li>
</ul>

Notices should get to the point and inform the user about why the functionality
or change is important if the context is not provided elsewhere.

### Warning message

<Canvas>
  <Banner type="warning">
    Your subscription will be automatically upgraded in 8 days
  </Banner>
</Canvas>

Use warning banners when:

<ul>
  <li>an action could have unseen consequences</li>
  <li>additional action has to be taken by the user</li>
</ul>

Warning messages should be one to two short sentences that describe the possibly
unknown impact a user's changes or actions will have. They should not begin with
"Warning:" and should not be used as a way to block or redirect a workflow.

On web, you should use [ConfirmationModal](/components/ConfirmationModal) when
you need to get explicit confirmation from the user before they complete an
action that is difficult to reverse.

### Error message

<Canvas>
  <Banner type="error" icon="alert">
    Something went wrong. Please try again in a few minutes.
  </Banner>
</Canvas>

Use error banners when:

<ul>
  <li>an issue requires immediate attention</li>
  <li>an issue blocks the user</li>
  <li>inline validation can not be used</li>
</ul>

Errors should explain what happened, and how to address the issue in a concise
manner.

System errors should avoid technical or intimidating language, and provide ways
to resolve or troubleshoot the issue if possible.

Using an `icon` prop is optional, but can be used to provide additional visual
context to the user.

#### Errors in forms (web)

If an error is directly related to an input, don't use a banner. Use the
[InputText validation message](../?path=/docs/components-forms-and-inputs-inputtext--docs#validation-message)
component or, if unavailable, [InputValidation](/components/InputValidation).
Scroll to the first affected field on submission.

#### Errors in forms (mobile)

In forms, use the error Banner when the response from submitting the form has
returned errors. See
[Error Details](../?path=/story/components-status-and-feedback-banner-mobile--error-details)
as an example.

In conjunction, each impacted input should display its own inline error
messaging to aid in "recognition over recall" as the user scrolls down through
the form to rectify the issues.

If an input can be validated client-side (immediately, before the form is
submitted to the server), you don't need to provide a Banner that duplicates the
error messages. Use inline validation on the inputs to prevent the user from
submitting invalid data. If the user ignores client-side error messages and
submits anyways, show them the error Banner along with the errors on the
individual input(s).

## Content guidelines

Content in Banner should:

- Be concise and kept to only 1 to 2 sentences where possible
- Avoid exceeding 200 characters
- Follow the [Product Vocabulary](/content/product-vocabulary) where applicable
- In the case of warning or error banners, explain how to resolve the issue

## Related components

- To provide low-priority, temporary feedback on the outcome of a user action,
  use [Toast](/components/Toast) instead.
- Use [ConfirmationModal](/components/ConfirmationModal) when you need to get
  explicit confirmation from the user before they complete an action.
