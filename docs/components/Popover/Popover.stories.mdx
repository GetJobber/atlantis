import { Meta } from "@storybook/addon-docs";
import { Banner } from "@jobber/components/Banner";

<Meta title="Components/Overlays/Popover" />

# Popover

A Popover displays floating informative and actionable content positioned in
relation to a target. The Popover can contain content, media, or other
components.

## Design & usage guidelines

Some scenarios for Popover include the following:

### Informational

Introducing the user to a new experience, whether their first time using a
product or to introduce a new or updated functionality in an existing
experience, Popover can be an excellent choice to highlight a specific piece of
the experience.

If there is an "acknowledgement" CTA for the user to confirm that they
understand the change, use a `learning`
[Button](../?path=/docs/components-actions-button--docs).

See
[Popover/Informational](../?path=/story/components-overlays-popover-web--informational)

### Functional

<Banner type="warning" dismissible={false}>
  A "functional" Popover hasn't been implemented in a componentized fashion yet.
</Banner>

Reveal a list of available actions to the user. For example, if the user clicks
on an element and there are four potential actions they might take, Popover is a
great way to present those actions. If you're looking to provide a menu of
actions that comes complete with a trigger button,
[Menu](../?path=/docs/components-navigation-menu--docs) has that bundle ready to
go.

### UNSAFE\_ props (Advanced Usage)

General information for using `UNSAFE_` props can be found
[here](https://atlantis.getjobber.com/storybook/?path=/docs/guides-customizing-components--docs#unsafe_-props).

Popover has three elements that can be targeted with classes or styles. These
are the container, the dismiss button container, and the arrow.

**Note**: Use of `UNSAFE_` props is **at your own risk** and should be
considered a **last resort**. Future Popover updates may lead to unintended
breakages.

#### UNSAFE_className

Use `UNSAFE_className` to apply custom classes to the Popover. This can be
useful for applying styles via CSS Modules.

```tsx
// Popover.tsx
  UNSAFE_className={{
    container: styles.customPopoverBackground,
    dismissButtonContainer: styles.customDismissButton,
    arrow: styles.customArrow,
  }}

// Popover.module.css
.customPopoverBackground {
  background-color: var(--color-surface--background);
}

.customDismissButton {
  background-color: var(--color-indigo);
}

.customArrow {
  padding-left: var(--space-extravagant);
}
```

You can also use `UNSAFE_className` to apply custom classes to any of the
Popover's elements.

```tsx
  UNSAFE_className={{ container: "custom-container-class" }}
```

#### UNSAFE_style

Use `UNSAFE_style` to apply inline custom styles to the Popover.

```tsx
  UNSAFE_style={{
    container: { backgroundColor: "lightblue" },
    dismissButtonContainer: { paddingRight: "var(--space-larger)" },
    arrow: { paddingRight: "var(--space-extravagant)" },
  }}
```

## Related components

To add a menu button that presents multiple actions to the user, use
[Menu](../?path=/docs/components-navigation-menu--docs).

To add a hint about a UI element's function in a permanent fashion (ie revealing
a Button's label on hover), use
[Tooltip](../?path=/docs/components-overlays-tooltip--docs).

To add an inline informational element that the user can dismiss, consider if
[Banner](../?path=/docs/components-status-and-feedback-banner--docs) is the
right fit for your use case.

## Content guidelines

- Popover text content should be concise and clear. Try not to go over three
  lines so the user can get back to what they were doing!
- In "informational" usage, Popper may have a CTA that allows the user to
  "acknowledge" and dismiss the Popover; this does not replace the need for the
  dismiss button.

## Accessibility

Popover has a role of `dialog` as it is an element that the user will be "in
dialogue" with, whether selecting an action, confirming acknowledgement, or
dismissing the Popover.

Depending on your use case, you may need to add focus management to your usage
of Popover; for example, if selecting a Button opens a Popover, you will want to
then set focus to the Popover, and if the user dismisses the Popover, return
focus to the button that opened the Popover.

If your element is effectively acting as an inline DOM element that the user
would otherwise encounter when traversing the page, this focus management may
not be necessary.
