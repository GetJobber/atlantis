---
name: Create a React Component
menu: Guides
route: /guides/how-to-create-a-basic-react-component
---

# Create your own component

So, you want to create a react component in atlantis but, you don't know where
to start. This guide would help you understand the basic concepts around
building a component in Atlantis.

## Before we start

Few things you need to know about Atlantis. We use [React](https://reactjs.org/)
to build components and [Typescript](https://www.typescriptlang.org/) to help
control the chaos because javascript code can get really messy. There are more
reasons around why we use typescript but that's not the point of this guide.
We're here to make components! YAY!!ðŸŽ‰

_"Wait hold up! Typescript?! That POS, strictly typed, PITA that gives vague
explanation as to why..."_

Hold your horses there, cowboy. Give it a chance, it's built to prevent us from
making silly and preventable mistakes.

Oh, and this also assumes that you have some familiarity with HTML, CSS, and
Javascript. I'll do my best to explain some concepts around as we go along but,
you should be able to follow along.

## What are we building?

In this guide, we'll show you how to build a counter component.

<img src="/public/assets/images/create-react-component/AmountPicker.png" />

Easy peasy, right?

## Prerequisites

1. [Install and run Atlantis](/#development) because you need it to create a
   component inâ€¦ Atlantis.
2. Setup your editor to have have the auto fixers. Life is too short to do your
   own fixing for code that can be automatically fixed.
   [Jobber Wiki: Set up Typescript/Javascript linting](https://jobber.atlassian.net/wiki/spaces/JTW/pages/507740239/Set+up+Typescript+Javascript+linting)
3. Auto-generate a new component called `AmountCounter` by running
   `npm run plop` on a new terminal.

> Tip: React components are named in **PascalCase**

Once that's done, it should tell you where the files got added.

```sh
? Component Name: AmountCounter
âœ”  +! 5 files added
 -> /packages/components/src/AmountCounter/index.ts
 -> /packages/components/src/AmountCounter/AmountCounter.css
 -> /packages/components/src/AmountCounter/AmountCounter.mdx
 -> /packages/components/src/AmountCounter/AmountCounter.test.tsx
 -> /packages/components/src/AmountCounter/AmountCounter.tsx
```

### What are thooooose?!

Right, I promised to explain them.

| File name                | Description                                                                                                                                                                                                 |
| :----------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `index.ts`               | This tells react what to render. Honestly, You'd rarely to touch this.                                                                                                                                      |
| `AmountCounter.tsx`      | This file is where you make the magic happen.                                                                                                                                                               |
| `AmountCounter.mdx`      | This creates the page that you see in Atlantis. This is where you explain what the magic is doing.                                                                                                          |
| `AmountCounter.test.tsx` | Self explanatory.                                                                                                                                                                                           |
| `AmountCounter.css`      | Self explanatory.                                                                                                                                                                                           |
| `AmountCounter.css.d.ts` | This wasn't on the original list but it's very important. This is how react knows what class names you added and automagically serializes them so it doesn't clash with other components. More on it later. |

## Let's get started

Actually, no! Let's take a step back and look at the mock up again. But this
time, it's annotated with the HTML elements and prop types that we think it
should have.

<img
  src="/public/assets/images/create-react-component/AmountPicker-annotated.png"
  style={{ maxWidth: "100%" }}
/>

This makes it easier to write the code because we now have an idea on what the
HTML elements and types of props the component could take. We'll ignore the card
for now as components should be useable on its own anywhere and a card would
restrict the overall re-usability of this component. #componentThinking

Alternatively, you can also create a
[proposal doc](https://github.com/GetJobber/atlantis/blob/master/docs/proposals/TEMPLATE.md)
to help better understand what you're building. If you just wanna see how to
build one first, then off we go!

### Time to write some code

Open the `AmountCounter.tsx` because that's where we make the magic happen. That
file should already have boilerplate code on it that we could break down in to 3
main categories.

### Imports

<img src="/public/assets/images/create-react-component/imports.png" />

We'll get in to more detail about `classnames` and `styles` later.

### Interface

This is where you specify the prop types that we got from the annotations
earlier.

<img src="/public/assets/images/create-react-component/props.png" />

_WHAT?! Where did those come from? What is happening? I thought this was
simple._

Let's break it down, shall we?

| Artifact                           | Description                                                                                                                                                            |
| :--------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `/*Comment*/`                      | Explains what the prop is doing. If you use VSCode, this also show up when you hover on the prop name. This follows the [JSDoc](https://devdocs.io/jsdoc/) convention. |
| `readonly`                         | Prevents the prop from getting re-assigned. We gotta have some rules, people!                                                                                          |
| `title` `value`                    | This is the prop name.                                                                                                                                                 |
| `description?` `onChange?`         | Still a prop name but this time it's optional. That means the componentâ€”if written properlyâ€”would still work without it.                                               |
| `string` `number` `boolean` `void` | This is the basic prop types you can use. This makes sure that you can only pass in the specified type to make the component predictable and manageable.               |

_What about the `onChange?()` prop? It looks different_

Yes, because it's a callback. They're used to tell the parent component that the
`AmountCounter` changed and it returned a new value. Now, some components need
them, some don't. Some have params, some doesn't need it. It really depends on
what kind of component are you writing. In our case, we need it.

_Ok, but we specified increment and decrement on the annotations. I don't see
that here._

True, part of building a component is to make sure you only specify what you
need and improve overtime. I think the `onChange()` could encompass both
increment and decrement. I could be wrong, but let's see where this takes us.

### Component

Now that we know the base props that we need. Yes, I said _base_ because it
might need more than what we specified. First up, we need to tell the component
about the props we specified like so:

<img src="/public/assets/images/create-react-component/component-props.png" />

_Oh no, typescript is already mad at me_

First of all [insert meme here], it's a machine, it got no feelings, aight?
Second it's just telling you that you ain't using the thing yet. That's helpful
when you's writing a component super fast!

Anyhoo, let's break it down

| Artifact            | Description                                                                                                           |
| :------------------ | :-------------------------------------------------------------------------------------------------------------------- |
| `export`            | This allows us to use the component everywhere! Granted you `import` them; we'll get to that later.                   |
| `function`          | Self explanatory.                                                                                                     |
| `AmountCounter`     | Component name and also the function name. But, you already knew that.                                                |
| `{ ... }`           | Defines the props that you'd like to use from AmountCounterProps.                                                     |
| `AmoutCounterProps` | Reference to the props that we specified earlier. This is how the component knows the props and the types we can use. |

#### Writing the HTML structure

Let's look back at the annotated mockup again for guidance.

<img
  src="/public/assets/images/create-react-component/AmountPicker-annotated.png"
  style={{ maxWidth: "100%" }}
/>

It seems that we need a:

- **Heading**: We can use the [Heading](/components/heading) component
- **Paragraph**: We can use the [Text](/components/text) component
- **Input**: We need an input that can only accept number. We can use the
  [InputNumber](/components/input-number) component
- **Buttons**: This one is special case and for the sake of this guide, we'll
  write our own CSS for it.

Not worrying about the layout for now and focusing on making the base elements
work first; you should have something like this.

<img src="/public/assets/images/create-react-component/component-jsx.png" />

Few things to note here:

- Commented out the `className` const. We might need it later.
- That `<> ... </>` is called a
  [React fragment](https://reactjs.org/docs/fragments.html). Yes, it's way
  better than an unstyled `div`.

You should also have this on your imports because it needs to know where to get
the `Heading`, `Text`, and `InputNumber` component.

<img src="/public/assets/images/create-react-component/imported-existing-components.png" />

There will be warning around the imports and that's fine. We're aware of it but,
that shouldn't stop you from making your own component. Onwards!

#### How do I preview this?

Glad you asked, go to `AmountCounter.mdx` and drop the code below on that file.

```
<Playground>
  <AmountCounter
    title="Children"
    description="Ages 2 - 12"
    value={0}
  />
</Playground>
```

Then on the sidebar, go to **Components > AmountCounter** If everything is
correct, you should see something like this:

<img src="/public/assets/images/create-react-component/first-preview.png" />

Not quite the same as the mockup but, you know, baby steps. Oh, if you don't see
the props list, stop atlantis and then run `npm run clean; npm start`. That
busts the cache ðŸ”¥.

## Style me up!

Now that we have the basic structure, we can style to look like the mockup.
Let's reference the mockup again. This time, it's annotated by a simple grid
system.

<img
  src="/public/assets/images/create-react-component/AmountPicker-gridified.png"
  style={{ maxWidth: "100%" }}
/>

So we have a classic 2 columns grid. In order for us to do that, we have to
group our elements.

- **Black** as the wrapping element
- **Pink** as the column element
- **Orange** as the elements we currently have

Once grouped, you should have something like this:

<img src="/public/assets/images/create-react-component/component-grouped.png" />

_Oh c'mon typescript! I know it's not there because I haven't written it yet!_

If you look at it as like a halfway TDD, those red underline things are errors
that you need to get rid of by continuing to write the code! TDD Red, Green,
Refactor, amirite? Onwards!

_Quick question, what's with the `styles.wrapper` why not just type the class
name directly?_

We have to serialize those class names so it doesn't clash with other class
names. Plus, naming is hard so you can keep writing `wrapper` on all of the
wrapper components and it would still work.

### Writing the CSS

There's nothing special here just a plain ol CSS. Open up your
`AmountCounter.css` and drop this in there

```CSS
.wrapper {
  display: flex;
  align-items: center; /* Vertical align center the columns */
}

.contentColumn {
  flex: 1 1 auto; /* Expand to take up the remaining width */
}

.actionColumn {
  flex: 0 0 auto; /* Shrink to it's content */
}

.button {
  display: inline-block; /* Go side by side */
  vertical-align: middle;
  appearance: none; /* Get rid of browser defaults */
  border: 0;
  cursor: pointer;
}
```

I've also update the template to get the layout working.

<img src="/public/assets/images/create-react-component/component-using-icons.png" />

Few things to note:

- Added a `styles.button` class name on the `button` so I can reset the styling
  of the buttons.
- Used the [Icon](/components/icon) component instead of `+` or `-`.
- Check out the [InputNumber](/components/input-number#properties) props to see
  the details of what I've added.

Once you've updated your component, it should look like so.

<img src="/public/assets/images/create-react-component/second-preview.png" />

Looking good! Now we just need to make it work. Onwards!

## Making the buttons work

We're gonna focus on making our `AmountCounter` work as a
[controlled component](https://reactjs.org/docs/forms.html#controlled-components)
because that's the preferred way for react.

### What is a controlled component?

The gist of it is that, it needs a parent component to control what information
it shows to the user. I won't go in to too much details here as React
documentation already explains
[what a controlled component is about](https://reactjs.org/docs/forms.html#controlled-components)
and why it's the preferred way over
[uncontrolled components](https://reactjs.org/docs/uncontrolled-components.html).

### Great, how do we make it work?

To keep it simple, let's start with the increment button first and worry about
decrement later once we're happy with the code we've written.

So, we need to add 2 things

- `onClick` attribute for the button so it knows to fire a click event onâ€¦ wellâ€¦
  click
- `handleClick` function so the button knows what to do when it gets clicked.
  Since we have 2 actions, we'll name the increment `handleIncrement`.

Put that together, and you'll have this!

<img src="/public/assets/images/create-react-component/making-the-button-work-increment-onclick.png" />

and this right after the `return` code

<img src="/public/assets/images/create-react-component/making-the-button-work-increment-handler.png" />

Few things to note:

1. Prefixed `on` for prop names to match reacts built-in event handlers.
2. The same goes to `handle` for function names. Naming is hard, so the more we
   can not think about it, the better.
3. Added a `console.log` so we can see that it fires the `handleIncrement`
   function after the click.
4. We'll fire the `onChange` callback prop in here with the new value so the
   parent component have a way to know that `AmountCounter` has changed and
   there's a new value.

Right now, typescript is probably giving you this message right now.

```
Cannot invoke an object which is possibly 'undefined'.ts(2722)
```

_OMG! Typescript is the worst!_

Hold your horses there, partner. Typescript is there to prevent us, humans, from
making a silly mistake. For every typescript error, there's always a `ts(XXXX)`
that references back to an in-depth explanation on what the error is about.
Google is free, you should use it.

So what's the issue? The `onChange` is an optional prop. Which means we have to
make sure that the `onChange` callback only fires when it can actually be fired.
It means, we need to guard it by checking if `onChange` is defined.

```
onChange && onChange(newValue)
```

> Tip: That's a shorthand for `if (onChange) {}`.

### Pop quiz!

Do the decrement part yourself because it's the exact opposite of increment. You
should be able to handle that.

All done? Great! Now that we have the buttons firing an event when we need to,
we need to catch those events and get this component updating its value!
Onwards!

### On to the states!

_'Murica!_ ðŸ¦…

No, not that! I'm talking about
[component states](https://reactjs.org/docs/faq-state.html). We'll also use
React hooks [useState](https://reactjs.org/docs/hooks-reference.html#usestate).

We'll just go with the basics of adding and updating the state. You could
generate a new component for this, but to get this going along, we'll just use
the `AmountCounter`'s playground.

- Open up `AmountCounter.mdx` again.
- Replace the previous example we had with this bit of code.

```
<Playground>
  {() => {
    const [value, setValue] = useState(0);

    return (
      <AmountCounter
        title="Children"
        description="Ages 2 - 12"
        value={value}
        onChange={setValue}
      />
    );

    function handleChange(newValue) {
      setValue(newValue);
    }
  }}
</Playground>
```

And don't forget to add this on the `import` part of the `.mdx` so we can use
the `useState` from react.

```
import { useState } from "react";
```

Few things to note here

- [`useState`](https://reactjs.org/docs/hooks-reference.html#usestate) is a new
  React way of adding and updating a state. I suggest you read more about it.

You should be able to interact with your component now! ðŸŽ‰

<img
  src="/public/assets/images/create-react-component/AmountCounter.gif"
  style={{ border: "1px solid #f2f2f2" }}
/>

## Conclusion

Creating a new react component is overwhelming. There's so many ways to write
it. But this should set you on a right path on how to write components the
atlantis way. Most importantly, write it the way you'd understand it. Yes,
there's always a better way to write code but, with enough collaboration, you'd
learn those better ways too.
