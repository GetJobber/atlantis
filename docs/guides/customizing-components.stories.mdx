import { Meta } from "@storybook/addon-docs";
import { Banner } from "@jobber/components/Banner";

<Meta title="Guides/Customizing components" />

# Customizing components

### Philosophy: easy to use, flexible to customize

Atlantis is designed to make building consistent, accessible, and visually
appealing user interfaces as effortless as possible for you. In doing so, we aim
to balance simplicity, flexibility, and consistency.

We strive to cover the most common use cases "out of the box" with thoughtful
defaults. When unique scenarios arise that may require customization, we provide
mechanisms to extend or modify our components without compromising the integrity
of their most common use cases.

We recommend using the default implementations wherever possible to benefit
from:

- consistency
- maintainability
- built-in accessibility

If you choose to customize components, you assume responsibility for these
concerns and any issues that may arise in future versions.

### Named `customRender____` props

Our primary approach to enabling customization is using named render props
following the `customRender____` pattern.

This allows you to both:

- inject your own UI logic
- retain the default behaviors and functionality of the component

#### Example: [List](../components/List) customRenderItem

```tsx
const renderProductItem = item => (
  <Flex template={["shrink", "grow"]} align="start">
    <Text>{item.price}</Text>
    <Heading level={4}>{item.name}</Heading>
  </Flex>
);

export const CustomRenderExample = () => (
  <List items={items} customRenderItem={renderProductItem} />
);
```

### Other customization approaches

#### ReactNode

Extending prop types to allow a `ReactNode` to be inserted is useful for simpler
cases where your:

- customization does not depend on internal state
- design is relatively simple

##### Example: [Tab](../components/Tab) label

```tsx
<Tab label={<MyCustomLabel />} />
```

Customizing the `label` doesn’t require exposing or interacting with the `Tab`’s
internal state (e.g., active state styling).

#### UNSAFE\_ props

`UNSAFE_` props are used to allow for advanced styling customization of:

- a component's container
- in some cases, a component's sub-components

If you are considering using an `UNSAFE_` prop, we encourage you to
[talk to us](https://getjobber.slack.com/archives/C03BJHV3PMG) to look for safer
ways to meet your needs.

<Banner type="warning" dismissible={false}>
  These props are prefixed `UNSAFE_` for a reason! Their usage is **at your own
  risk** and should be considered a **last resort**. Atlantis updates may break
  these usages.
</Banner>

##### Example: [Popover](../components/Popover) styling overrides

**`UNSAFE_className`**

```tsx
<Popover UNSAFE_className={{ container: styles.customClass }} />

.customClass {
  background-color: var(--color-surface--background);
  padding: var(--space-large);
}
```

**`UNSAFE_style`**

```tsx
<Popover
  UNSAFE_style={{
    container: { backgroundColor: "var(--color-surface--background)" },
    dismissArrow: { paddingRight: "var(--space-larger)" },
  }}
/>
```

**Note:** Inspiration for this approach was taken from:

- React Spectrum's
  [UNSAFE\_ escape hatches](https://react-spectrum.adobe.com/react-spectrum/styling.html#escape-hatches)
- Gestalt's
  [dangerouslySet**\_** pattern](https://gestalt.pinterest.systems/get_started/developers/hacking_gestalt#Box's-dangerouslySetInlineStyle)
